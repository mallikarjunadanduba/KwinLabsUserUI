import{J as N,r as t,j as a,b as r,P as O,f as n,aF as Q,F as s,h as c,S as o,c as Y,ao as i}from"./index-Dg2GFtxE.js";import{d as z}from"./PlayArrow-DQEbYAAW.js";import{f as H,g as J}from"./MCATestApi-mKi7mI3Q.js";import{M as u}from"./MenuItem-DouCongq.js";const $=()=>{const k=N(),[S,I]=t.useState(!0),[g,w]=t.useState([]),[b,T]=t.useState(""),[v,C]=t.useState(""),[d,U]=t.useState(""),[h,E]=t.useState(""),[p,W]=t.useState(""),[x,M]=t.useState(""),m=t.useRef(Date.now()),P=t.useRef(null),L=20,f="PRACTICE",A=[{value:"bangalore-university",label:"Bangalore University"},{value:"visvesvaraya-technological-university",label:"Visvesvaraya Technological University"},{value:"karnataka-university",label:"Karnataka University"},{value:"mysore-university",label:"Mysore University"},{value:"gulbarga-university",label:"Gulbarga University"},{value:"mangalore-university",label:"Mangalore University"},{value:"kuvempu-university",label:"Kuvempu University"},{value:"tumkur-university",label:"Tumkur University"},{value:"rajiv-gandhi-university",label:"Rajiv Gandhi University of Health Sciences"},{value:"karnataka-state-law-university",label:"Karnataka State Law University"},{value:"karnataka-state-open-university",label:"Karnataka State Open University"},{value:"karnataka-state-rural-development",label:"Karnataka State Rural Development and Panchayat Raj University"},{value:"karnataka-state-womens-university",label:"Karnataka State Women's University"},{value:"karnataka-state-sanskrit-university",label:"Karnataka State Sanskrit University"},{value:"karnataka-state-music-university",label:"Karnataka State Music University"},{value:"karnataka-state-folklore-university",label:"Karnataka State Folklore University"},{value:"karnataka-state-veterinary-university",label:"Karnataka State Veterinary, Animal and Fisheries Sciences University"},{value:"karnataka-state-agricultural-university",label:"Karnataka State Agricultural University"},{value:"karnataka-state-horticultural-university",label:"Karnataka State Horticultural University"},{value:"karnataka-state-fisheries-university",label:"Karnataka State Fisheries University"},{value:"other",label:"Other University"}],B=[{value:"bsc-cs",label:"BSC – CS"},{value:"bca",label:"BCA"},{value:"be-cs-is",label:"BE (CS & IS)"},{value:"msc-cs",label:"M.SC (CS)"},{value:"mca",label:"MCA"},{value:"mtech",label:"M. Tech"}],K=[{value:"java",label:"Java"},{value:"python",label:"Python"},{value:"dbms",label:"DBMS"},{value:"ai-ml",label:"AI/ML"},{value:"data-science",label:"Data Science"},{value:"front-end",label:"Front End"}],R=[{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"expert",label:"Expert"}],D=[{value:"fresher",label:"Fresher"},{value:"0-1",label:"0-1 Year"},{value:"1-3",label:"1-3 Years"},{value:"3-5",label:"3-5 Years"},{value:"5+",label:"5+ Years"}],j={"Content-type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.getItem("user")).accessToken};t.useEffect(()=>{const e=new BroadcastChannel("exam_channel");return P.current=e,e.postMessage({type:"check",tabId:m.current}),e.onmessage=y=>{const{type:l,tabId:q}=y.data;l==="check"?e.postMessage({type:"active",tabId:m.current}):l==="active"&&q!==m.current&&I(!1)},()=>{e.close()}},[]),t.useEffect(()=>{H(j).then(e=>{w((e==null?void 0:e.content)||[])}).catch(e=>{console.error("Error fetching topics:",e)})},[]);const F=async()=>{if(!S){alert("Another tab is open. Close it before starting.");return}if(!b){i.fire("Incomplete","Please select a topic","warning");return}if(!v){i.fire("Incomplete","Please select university","warning");return}if(!d){i.fire("Incomplete","Please select education","warning");return}if(!h){i.fire("Incomplete","Please select interview topic","warning");return}if(!p){i.fire("Incomplete","Please select expertise level","warning");return}if(!x){i.fire("Incomplete","Please select experience","warning");return}const e=g.find(l=>l.topicId===b);if(!e){i.fire("Error","Invalid topic selected","error");return}const y={mode:f,numberOfQuestions:L,mcqTopicDTOList:[{topicId:e.topicId,topicName:e.topicName}],university:v,education:d,interviewTopic:h,expertiseLevel:p,experience:x};try{const l=await J(y,j);l&&l.length>0?k("/jobs/exam",{state:{mcqData:l,selectedTopic:e,selectedMode:f,university:v,education:d,interviewTopic:h,expertiseLevel:p,experience:x}}):i.fire("No Questions","No MCQs available for selected filters.","info")}catch(l){console.error("MCQ fetch error:",l),i.fire("Error","Something went wrong while fetching questions.","error")}};return a.jsx(r,{sx:{minHeight:"100%",bgcolor:"#f4f6f8",display:"flex",justifyContent:"center",alignItems:"center",px:2},children:a.jsxs(O,{elevation:4,sx:{maxWidth:1200,width:"100%",p:5,borderRadius:3,textAlign:"left"},children:[a.jsx(n,{variant:"h4",fontWeight:600,color:"primary.main",gutterBottom:!0,children:"Academic Practice Instructions"}),a.jsxs(r,{sx:{mb:2},children:[a.jsx(n,{variant:"body1",children:"• Timed academic practice; auto-submit after time ends."}),a.jsx(n,{variant:"body1",children:"• Practice mode only; results visible after submit."}),a.jsx(n,{variant:"body1",children:"• Unlimited attempts allowed."})]}),a.jsx(Q,{sx:{my:3}}),a.jsx(r,{sx:{mb:3,display:"flex",gap:2,flexWrap:"wrap"},children:a.jsxs(r,{sx:{minWidth:200,backgroundColor:"#e3f2fd",px:2,py:1,borderRadius:1,border:"1px solid #90caf9",display:"flex",alignItems:"center"},children:[a.jsx(n,{variant:"body2",sx:{fontWeight:600,mr:1},children:"Mode:"}),a.jsx(n,{variant:"body2",color:"primary",children:f})]})}),a.jsxs(r,{sx:{mb:4,display:"flex",gap:3,flexWrap:"wrap"},children:[a.jsxs(s,{fullWidth:!0,sx:{minWidth:200,flex:1},children:[a.jsx(c,{children:"Select Topic"}),a.jsx(o,{value:b,onChange:e=>T(e.target.value),label:"Select Topic",children:g.map(e=>a.jsx(u,{value:e.topicId,children:e.topicName},e.topicId))})]}),a.jsxs(s,{fullWidth:!0,sx:{minWidth:200,flex:1},children:[a.jsx(c,{children:"University"}),a.jsx(o,{value:v,onChange:e=>C(e.target.value),label:"University",children:A.map(e=>a.jsx(u,{value:e.value,children:e.label},e.value))})]}),a.jsxs(s,{fullWidth:!0,sx:{minWidth:200,flex:1},children:[a.jsx(c,{children:"Education"}),a.jsx(o,{value:d,onChange:e=>U(e.target.value),label:"Education",children:B.map(e=>a.jsx(u,{value:e.value,children:e.label},e.value))})]}),a.jsxs(s,{fullWidth:!0,sx:{minWidth:200,flex:1},children:[a.jsx(c,{children:"Interview Topic"}),a.jsx(o,{value:h,onChange:e=>E(e.target.value),label:"Interview Topic",children:K.map(e=>a.jsx(u,{value:e.value,children:e.label},e.value))})]}),a.jsxs(s,{fullWidth:!0,sx:{minWidth:200,flex:1},children:[a.jsx(c,{children:"Expertise Level"}),a.jsx(o,{value:p,onChange:e=>W(e.target.value),label:"Expertise Level",children:R.map(e=>a.jsx(u,{value:e.value,children:e.label},e.value))})]}),a.jsxs(s,{fullWidth:!0,sx:{minWidth:200,flex:1},children:[a.jsx(c,{children:"Experience"}),a.jsx(o,{value:x,onChange:e=>M(e.target.value),label:"Experience",children:D.map(e=>a.jsx(u,{value:e.value,children:e.label},e.value))})]})]}),a.jsx(r,{textAlign:"center",children:a.jsx(Y,{variant:"contained",size:"large",endIcon:a.jsx(z,{}),onClick:F,sx:{px:5,py:1.5,fontSize:"18px",fontWeight:500,backgroundColor:"rgb(0, 175, 181)","&:hover":{backgroundColor:"rgb(0, 145, 151)"}},children:"Start Academic Practice"})})]})})};export{$ as default};
