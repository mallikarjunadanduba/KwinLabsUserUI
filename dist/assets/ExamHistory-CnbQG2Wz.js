import{J as C,r as o,j as e,P as S,f as s,b as u,G as p,L as w,N as A,aF as j}from"./index-Dg2GFtxE.js";import{d as N}from"./MCATestApi-mKi7mI3Q.js";import{C as T}from"./CircularProgress-CyqkBCJ6.js";import{A as f}from"./Alert-B7YS0Kez.js";const L=()=>{const h=C(),r=JSON.parse(sessionStorage.getItem("user")),n=r==null?void 0:r.seekerId,g={"Content-type":"application/json",Authorization:"Bearer "+(r==null?void 0:r.accessToken)},[i,v]=o.useState([]),[b,a]=o.useState(!0),[d,c]=o.useState("");return o.useEffect(()=>{if(!n){c("No Seeker ID found in session."),a(!1);return}N(g,n).then(t=>{v(t||[]),a(!1)}).catch(()=>{c("Failed to load exam history."),a(!1)})},[]),e.jsxs(S,{elevation:3,sx:{p:4,minHeight:"100%"},children:[e.jsx(s,{variant:"h4",fontWeight:600,gutterBottom:!0,children:"Your Test History"}),b?e.jsx(u,{sx:{display:"flex",justifyContent:"center",mt:4},children:e.jsx(T,{})}):d?e.jsx(f,{severity:"error",sx:{mt:3},children:d}):i.length===0?e.jsx(f,{severity:"info",sx:{mt:3},children:"No exam history found."}):e.jsx(p,{container:!0,spacing:3,sx:{mt:2},children:i.map((t,y)=>{var l,x,m;return e.jsx(p,{item:!0,xs:12,sm:6,md:4,children:e.jsx(w,{elevation:3,onClick:()=>h("/jobs/resultReview",{state:{historyId:t.id}}),sx:{cursor:"pointer",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"scale(1.02)",boxShadow:6}},children:e.jsxs(A,{children:[e.jsxs(s,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:[new Date(t.endTime).toLocaleDateString()," â€¢"," ",new Date(t.endTime).toLocaleTimeString()]}),e.jsx(s,{variant:"h6",fontWeight:600,children:((l=t.topic)==null?void 0:l.topicName)||"N/A"}),e.jsxs(s,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Mode: ",t.mode]}),e.jsx(j,{sx:{my:1}}),e.jsxs(s,{variant:"body2",children:["Total Questions: ",t.totalQuestions]}),e.jsxs(s,{variant:"body2",children:["Attempted: ",t.attemptedQuestions]}),e.jsxs(s,{variant:"body2",children:["Correct: ",t.correctAnswers]}),e.jsxs(s,{variant:"body2",children:["Wrong: ",t.wrongAnswers]}),e.jsxs(s,{variant:"body2",children:["Unattempted: ",t.unattempted]}),e.jsxs(s,{variant:"body2",children:["Score: ",t.score]}),e.jsx(j,{sx:{my:1}}),e.jsx(u,{sx:{mt:1,p:1,textAlign:"center",borderRadius:1,bgcolor:((x=t.result)==null?void 0:x.toLowerCase())==="pass"?"#e0f7e9":"#fdecea",color:((m=t.result)==null?void 0:m.toLowerCase())==="pass"?"#2e7d32":"#d32f2f",fontWeight:600},children:t.result})]})})},y)})})]})};export{L as default};
