import{r as o,J as k,j as e,G as s,b as p,c as y,g as j,L as b,N as S,f as w}from"./index-Dg2GFtxE.js";import{B as E}from"./Banner-DVFIjy4q.js";import{d as M,f as B}from"./UpskillsCategoryApi-DXKJxGpo.js";import{A as v}from"./Alert-B7YS0Kez.js";import{b as I,f as D}from"./McqCategoryApi-Bg826asI.js";import"./carousel.min-C1RJ6Wsb.js";const Q=()=>{const[a,x]=o.useState(!1),[i,u]=o.useState([]),[f,c]=o.useState(null),m=k(),g={"Content-type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.getItem("user")).accessToken},C=()=>{x(!0)},r=async()=>{try{const n=(await M(g)).data;if(n){const d=n.sort((h,N)=>h.categoryName.localeCompare(N.categoryName));u(d)}}catch(t){console.error("Error fetching categories:",t),c("Failed to fetch categories.")}};o.useEffect(()=>{r()},[]);const l=async(t,n)=>{try{const h=(await B(g,t)).data;h.length>0?m("courses",{state:{categoryId:t,categoryName:n,details:h}}):c("No courses found for this category.")}catch(d){console.error("Error fetching courses:",d),c("Failed to fetch courses.")}};return e.jsxs("div",{children:[f&&e.jsx(v,{severity:"error",children:f}),e.jsx(s,{container:!0,spacing:2,sx:{justifyContent:"flex-start"},children:(a?i:i.slice(0,8)).map(t=>e.jsx(s,{item:!0,style:{margin:"10px",alignItems:"flex-start",justifyContent:"flex-start"},children:e.jsx(p,{component:"button",onClick:()=>l(t.categoryId,t.categoryName),sx:{display:"inline-flex",alignItems:"flex-start",justifyContent:"flex-start",paddingX:"16px",paddingY:"10px",borderRadius:"50px",border:"1px solid #00afb5",backgroundColor:"white",color:"#00afb5",fontSize:"16px",fontWeight:"500",cursor:"pointer",transition:"all 0.3s ease",width:"100%",textAlign:"left","&:hover":{backgroundColor:"#00afb5",color:"white"}},children:t.categoryName})},t.categoryId))}),i.length>8&&!a&&e.jsx(p,{sx:{textAlign:"initial",mt:2},children:e.jsx(p,{component:"button",onClick:C,sx:{border:"1px solid #00afb5",borderRadius:"50px",paddingX:"20px",paddingY:"8px",backgroundColor:"white",color:"#00afb5",fontSize:"16px",cursor:"pointer",transition:"all 0.3s ease","&:hover":{backgroundColor:"#00afb5",color:"white"}},children:"View All"})})]})},z=()=>{const[a,x]=o.useState(!1),[i,u]=o.useState([]),[f,c]=o.useState(null),m=k(),g={"Content-type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.getItem("user")).accessToken};o.useEffect(()=>{(async()=>{try{const t=(await I(g)).data;if(t){const n=t.sort((d,h)=>d.categoryName.localeCompare(h.categoryName));u(n)}}catch(l){console.error("Error fetching MCQ categories:",l),c("Failed to fetch MCQ categories.")}})()},[]);const C=async(r,l)=>{try{const n=(await D(g,r)).data;n.length>0?m("mcqmodule",{state:{categoryId:r,categoryName:l,details:n}}):c("No MCQs found for this category.")}catch(t){console.error("Error fetching MCQs:",t),c("Failed to fetch MCQs.")}};return e.jsxs("div",{children:[f&&e.jsx(v,{severity:"error",children:f}),e.jsx(p,{display:"flex",flexWrap:"wrap",gap:1,justifyContent:"flex-start",style:{margin:"10px"},children:(a?i:i.slice(0,8)).map(r=>e.jsx(y,{onClick:()=>C(r.categoryId,r.categoryName),sx:{border:"1px solid #00afb5",borderRadius:"20px",padding:"5px 15px",textTransform:"none",color:"#00afb5",backgroundColor:"transparent",fontSize:"16px","&:hover":{backgroundColor:"#00afb5",color:"white"}},children:r.categoryName},r.categoryId))}),i.length>8&&!a&&e.jsx(p,{sx:{textAlign:"center",mt:2},children:e.jsx(y,{variant:"contained",color:"primary",onClick:()=>x(!0),children:"View All"})})]})},V=()=>{const[a,x]=o.useState(!0);return o.useEffect(()=>{x(!1)},[]),e.jsx(s,{container:!0,spacing:j,children:e.jsx(s,{item:!0,xs:12,children:e.jsxs(s,{container:!0,spacing:j,children:[e.jsx(s,{item:!0,xs:12,children:e.jsx(E,{isLoading:a})}),e.jsx(s,{item:!0,xs:12,children:e.jsxs(b,{children:[e.jsx(S,{style:{display:"flex"},children:e.jsx(w,{variant:"h5",component:"div",children:"Courses"})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(Q,{isLoading:a})})]})}),e.jsx(s,{item:!0,xs:12,children:e.jsxs(b,{children:[e.jsx(S,{style:{display:"flex"},children:e.jsx(w,{variant:"h5",component:"div",children:"MCQ"})}),e.jsx(s,{item:!0,xs:12,children:e.jsx(z,{isLoading:a})})]})})]})})})};export{V as default};
