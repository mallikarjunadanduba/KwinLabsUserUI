import{m as f,n as v,s as b,_ as d,r as i,o as x,p as C,j as p,q as y,t as U,a as g,B as u}from"./index-Dg2GFtxE.js";import{b as h}from"./DialogTitle-CHS1QA2F.js";function R(e){return f("MuiDialogContent",e)}v("MuiDialogContent",["root","dividers"]);const S=["className","dividers"],w=e=>{const{classes:o,dividers:a}=e;return U({root:["root",a&&"dividers"]},R,o)},D=b("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.root,a.dividers&&o.dividers]}})(({theme:e,ownerState:o})=>d({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},o.dividers?{padding:"16px 24px",borderTop:`1px solid ${(e.vars||e).palette.divider}`,borderBottom:`1px solid ${(e.vars||e).palette.divider}`}:{[`.${h.root} + &`]:{paddingTop:0}})),$=i.forwardRef(function(o,a){const s=x({props:o,name:"MuiDialogContent"}),{className:n,dividers:t=!1}=s,c=C(s,S),r=d({},s,{dividers:t}),l=w(r);return p.jsx(D,d({className:y(l.root,n),ownerState:r,ref:a},c))}),L=({filePath:e,alt:o="image",style:a={}})=>{const[s,n]=i.useState(""),t=JSON.parse(sessionStorage.getItem("user"));return i.useEffect(()=>e?((async()=>{try{const r=await g.get(`${u}/file/downloadFile/?filePath=${encodeURIComponent(e)}`,{headers:{Authorization:`Bearer ${t==null?void 0:t.accessToken}`},responseType:"blob"});console.log(r);const l=new Blob([r.data],{type:r.headers["content-type"]}),m=URL.createObjectURL(l);n(m)}catch(r){console.error("Error fetching image:",r),n("")}})(),()=>{s&&URL.revokeObjectURL(s)}):void 0,[e,t==null?void 0:t.accessToken]),s?p.jsx("img",{src:s,alt:o,style:a}):p.jsx("div",{style:{fontSize:12,color:"#999"},children:"Loading..."})},B=(e,o)=>{const[a,s]=i.useState("");return i.useEffect(()=>{if(!e||!o)return;(async()=>{try{const t=await g.get(`${u}/file/downloadFile/?filePath=${encodeURIComponent(e)}`,{headers:{Authorization:`Bearer ${o}`},responseType:"blob"}),c=new Blob([t.data],{type:t.headers["content-type"]}),r=URL.createObjectURL(c);s(r)}catch(t){console.error("Error fetching image:",t),s("")}})()},[e,o]),a};export{L as A,$ as D,B as u};
