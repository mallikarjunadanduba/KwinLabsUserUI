import{e as q,i as R,j as e,J as D,r as n,b as f,P as E,f as s,G as i,aF as N,F as _,h as k,S as B,c as j,ao as o}from"./index-Dg2GFtxE.js";import{d as z}from"./PlayArrow-DQEbYAAW.js";import{f as H,g as Q}from"./MCATestApi-mKi7mI3Q.js";import{M as W}from"./MenuItem-DouCongq.js";var u={},L=R;Object.defineProperty(u,"__esModule",{value:!0});var v=u.default=void 0,O=L(q()),P=e;v=u.default=(0,O.default)((0,P.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History");const U=()=>{const h=D(),[g,b]=n.useState(!0),[p,y]=n.useState([]),[a,S]=n.useState(""),c=n.useRef(Date.now()),I=n.useRef(null),T="Full Stack Developer Assessment",x=20,l="TEST",w=20,m={"Content-type":"application/json",Authorization:"Bearer "+JSON.parse(sessionStorage.getItem("user")).accessToken};n.useEffect(()=>{const t=new BroadcastChannel("exam_channel");return I.current=t,t.postMessage({type:"check",tabId:c.current}),t.onmessage=d=>{const{type:r,tabId:C}=d.data;r==="check"?t.postMessage({type:"active",tabId:c.current}):r==="active"&&C!==c.current&&b(!1)},()=>{t.close()}},[]),n.useEffect(()=>{H(m).then(t=>{y((t==null?void 0:t.content)||[])}).catch(t=>{console.error("Error fetching topics:",t)})},[]);const M=async()=>{if(!g){o.fire("Multiple Tabs","Please close other tabs to proceed.","warning");return}if(!a){o.fire("Incomplete","Please select both mode and topic","warning");return}const t=p.find(r=>r.topicId===a);if(!t){o.fire("Error","Invalid topic selected","error");return}const d={mode:l,numberOfQuestions:x,mcqTopicDTOList:[{topicId:t.topicId,topicName:t.topicName}]};try{const r=await Q(d,m);r&&r.length>0?h("/jobs/exam",{state:{mcqData:r,selectedTopic:t,selectedMode:l}}):o.fire("No Questions","No MCQs available for selected filters.","info")}catch(r){console.error("MCQ fetch error:",r),o.fire("Error","Something went wrong while fetching questions.","error")}};return e.jsx(f,{sx:{bgcolor:"#f0f4f8",py:5,px:2,minHeight:"82%",display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsxs(E,{elevation:6,sx:{maxWidth:960,width:"100%",borderRadius:3,p:4},children:[e.jsx(s,{variant:"h4",fontWeight:600,color:"primary.main",mb:2,children:T}),e.jsxs(i,{container:!0,spacing:2,mb:3,children:[e.jsxs(i,{item:!0,xs:6,sm:3,children:[e.jsx(s,{variant:"subtitle2",children:"Total Questions"}),e.jsx(s,{variant:"body1",children:x})]}),e.jsxs(i,{item:!0,xs:6,sm:3,children:[e.jsx(s,{variant:"subtitle2",children:"Duration"}),e.jsxs(s,{variant:"body1",children:[w," Minutes"]})]}),e.jsxs(i,{item:!0,xs:6,sm:3,children:[e.jsx(s,{variant:"subtitle2",children:"Sections"}),e.jsx(s,{variant:"body1",children:"3"})]}),e.jsxs(i,{item:!0,xs:6,sm:3,children:[e.jsx(s,{variant:"subtitle2",children:"Mode"}),e.jsx(s,{variant:"body1",color:"primary",children:l})]})]}),e.jsx(N,{sx:{mb:3}}),e.jsx(s,{variant:"h5",fontWeight:600,gutterBottom:!0,children:"Instructions"}),e.jsxs(f,{component:"ul",sx:{pl:3,mb:3},children:[e.jsx("li",{children:e.jsx(s,{children:"Timed test â€“ auto-submits when time ends."})}),e.jsx("li",{children:e.jsx(s,{children:"Unattempted questions do not have negative marking."})}),e.jsx("li",{children:e.jsx(s,{children:"You can submit early to view results immediately."})}),e.jsx("li",{children:e.jsx(s,{children:"Review answers with correct solutions after submission."})})]}),e.jsxs(_,{fullWidth:!0,sx:{mb:4},children:[e.jsx(k,{children:"Select Topic"}),e.jsx(B,{value:a,label:"Select Topic",onChange:t=>S(t.target.value),children:p.map(t=>e.jsx(W,{value:t.topicId,children:t.topicName},t.topicId))})]}),e.jsxs(i,{container:!0,spacing:2,justifyContent:"center",children:[e.jsx(i,{item:!0,children:e.jsx(j,{variant:"contained",color:"primary",size:"large",endIcon:e.jsx(z,{}),onClick:M,sx:{px:4,py:1.5,fontSize:"16px",fontWeight:500},children:"Start Test"})}),e.jsx(i,{item:!0,children:e.jsx(j,{variant:"outlined",color:"primary",size:"large",endIcon:e.jsx(v,{}),onClick:()=>h("/jobs/examhistory"),sx:{px:4,py:1.5,fontSize:"16px",fontWeight:500},children:"View Test History"})})]})]})})};export{U as default};
