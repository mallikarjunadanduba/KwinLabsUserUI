import{m as K,n as Z,s as z,_,r as C,o as se,p as X,au as Se,aP as Ce,j as r,q as Y,t as ee,l as ie,Z as ce,aQ as we,v as W,x as Me,aR as je,O as ke,a4 as Ue,C as Re,b as F,f as E,G as R,P as Pe,aS as _e,V as Ie,a7 as Ee,aL as Oe,c as T,u as de,K as le,H as Fe,J as Ae,ao as oe}from"./index-Dg2GFtxE.js";import{s as Ge,a as Ne}from"./MCATestApi-mKi7mI3Q.js";function Te(o){return K("MuiFormGroup",o)}Z("MuiFormGroup",["root","row","error"]);const qe=["className","row"],ze=o=>{const{classes:n,row:h,error:l}=o;return ee({root:["root",h&&"row",l&&"error"]},Te,n)},Be=z("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(o,n)=>{const{ownerState:h}=o;return[n.root,h.row&&n.row]}})(({ownerState:o})=>_({display:"flex",flexDirection:"column",flexWrap:"wrap"},o.row&&{flexDirection:"row"})),$e=C.forwardRef(function(n,h){const l=se({props:n,name:"MuiFormGroup"}),{className:f,row:s=!1}=l,a=X(l,qe),i=Se(),p=Ce({props:l,muiFormControl:i,states:["error"]}),w=_({},l,{row:s,error:p.error}),M=ze(w);return r.jsx(Be,_({className:Y(M.root,f),ownerState:w,ref:h},a))}),We=ie(r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Le=ie(r.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),Qe=z("span",{shouldForwardProp:ce})({position:"relative",display:"flex"}),He=z(We)({transform:"scale(1)"}),Ve=z(Le)(({theme:o,ownerState:n})=>_({left:0,position:"absolute",transform:"scale(0)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeIn,duration:o.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:o.transitions.create("transform",{easing:o.transitions.easing.easeOut,duration:o.transitions.duration.shortest})}));function ue(o){const{checked:n=!1,classes:h={},fontSize:l}=o,f=_({},o,{checked:n});return r.jsxs(Qe,{className:h.root,ownerState:f,children:[r.jsx(He,{fontSize:l,className:h.background,ownerState:f}),r.jsx(Ve,{fontSize:l,className:h.dot,ownerState:f})]})}const fe=C.createContext(void 0);function De(){return C.useContext(fe)}function Je(o){return K("MuiRadio",o)}const re=Z("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),Ke=["checked","checkedIcon","color","icon","name","onChange","size","className"],Ze=o=>{const{classes:n,color:h,size:l}=o,f={root:["root",`color${W(h)}`,l!=="medium"&&`size${W(l)}`]};return _({},n,ee(f,Je,n))},Xe=z(we,{shouldForwardProp:o=>ce(o)||o==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(o,n)=>{const{ownerState:h}=o;return[n.root,h.size!=="medium"&&n[`size${W(h.size)}`],n[`color${W(h.color)}`]]}})(({theme:o,ownerState:n})=>_({color:(o.vars||o).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:o.vars?`rgba(${n.color==="default"?o.vars.palette.action.activeChannel:o.vars.palette[n.color].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:Me(n.color==="default"?o.palette.action.active:o.palette[n.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},n.color!=="default"&&{[`&.${re.checked}`]:{color:(o.vars||o).palette[n.color].main}},{[`&.${re.disabled}`]:{color:(o.vars||o).palette.action.disabled}}));function Ye(o,n){return typeof n=="object"&&n!==null?o===n:String(o)===String(n)}const ne=r.jsx(ue,{checked:!0}),ae=r.jsx(ue,{}),et=C.forwardRef(function(n,h){var l,f;const s=se({props:n,name:"MuiRadio"}),{checked:a,checkedIcon:i=ne,color:p="primary",icon:w=ae,name:M,onChange:U,size:g="medium",className:u}=s,e=X(s,Ke),t=_({},s,{color:p,size:g}),d=Ze(t),c=De();let m=a;const y=je(U,c&&c.onChange);let x=M;return c&&(typeof m>"u"&&(m=Ye(c.value,s.value)),typeof x>"u"&&(x=c.name)),r.jsx(Xe,_({type:"radio",icon:C.cloneElement(w,{fontSize:(l=ae.props.fontSize)!=null?l:g}),checkedIcon:C.cloneElement(i,{fontSize:(f=ne.props.fontSize)!=null?f:g}),ownerState:t,classes:d,name:x,checked:m,onChange:y,ref:h,className:Y(d.root,u)},e))});function tt(o){return K("MuiRadioGroup",o)}Z("MuiRadioGroup",["root","row","error"]);const ot=["actions","children","className","defaultValue","name","onChange","value"],rt=o=>{const{classes:n,row:h,error:l}=o;return ee({root:["root",h&&"row",l&&"error"]},tt,n)},nt=C.forwardRef(function(n,h){const{actions:l,children:f,className:s,defaultValue:a,name:i,onChange:p,value:w}=n,M=X(n,ot),U=C.useRef(null),g=rt(n),[u,e]=ke({controlled:w,default:a,name:"RadioGroup"});C.useImperativeHandle(l,()=>({focus:()=>{let m=U.current.querySelector("input:not(:disabled):checked");m||(m=U.current.querySelector("input:not(:disabled)")),m&&m.focus()}}),[]);const t=Ue(h,U),d=Re(i),c=C.useMemo(()=>({name:d,onChange(m){e(m.target.value),p&&p(m,m.target.value)},value:u}),[d,p,e,u]);return r.jsx(fe.Provider,{value:c,children:r.jsx($e,_({role:"radiogroup",ref:t,className:Y(g.root,s)},M,{children:f}))})}),at=({currentPage:o,totalPages:n})=>r.jsx(F,{px:3,py:2,borderBottom:1,borderColor:"divider",bgcolor:"white",children:r.jsxs(E,{variant:"h6",children:["Page No. ",o," ",r.jsxs(E,{component:"span",variant:"body2",children:["(Total Page/s : ",n,")"]})]})}),st=({totalQuestions:o,currentQuestion:n,onNavigate:h,questionStatus:l=[]})=>{const f=a=>{const i=l.find(p=>p.id===a+1);return n===a+1?{bg:"#1976d2",color:"#fff"}:(i==null?void 0:i.status)==="answered"?{bg:"#4caf50",color:"#fff"}:(i==null?void 0:i.status)==="review"?{bg:"#9c27b0",color:"#fff"}:{bg:"#fff",color:"#000"}},s=()=>Array.from({length:o},(a,i)=>{const{bg:p,color:w}=f(i);return r.jsx(R,{item:!0,xs:3,sm:2,md:2,children:r.jsx(Pe,{onClick:()=>h(i+1),elevation:n===i+1?4:1,sx:{padding:"6px 0",textAlign:"center",bgcolor:p,color:w,cursor:"pointer",borderRadius:"6px",fontWeight:500},children:i+1})},i)});return r.jsxs(F,{p:2,bgcolor:"rgba(102, 225, 228, 0.3)",height:"100%",children:[r.jsx(E,{variant:"h6",mb:2,children:"Sections"}),r.jsx(E,{variant:"subtitle1",gutterBottom:!0,children:"Technical  - 1"}),r.jsx(R,{container:!0,spacing:1,children:s()})]})},it=({questionData:o,selectedOption:n,onSelect:h})=>r.jsxs(F,{p:3,bgcolor:"white",borderRadius:2,boxShadow:1,children:[r.jsx(E,{variant:"h6",gutterBottom:!0,children:"Question"}),r.jsx(E,{variant:"caption",color:"textSecondary",display:"block",gutterBottom:!0,children:"(Correct Answer: 1 Mark, Wrong Answer: -0.25 Mark)"}),r.jsx(E,{variant:"body1",gutterBottom:!0,children:o.question}),r.jsx(nt,{value:n,onChange:h,children:o.options.map((l,f)=>r.jsx(_e,{value:l,control:r.jsx(et,{}),label:`${f+1}. ${l}`},f))})]});var he={exports:{}};(function(o,n){(function(l,f){o.exports=f(C)})(Ie,function(h){return function(l){var f={};function s(a){if(f[a])return f[a].exports;var i=f[a]={i:a,l:!1,exports:{}};return l[a].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=l,s.c=f,s.d=function(a,i,p){s.o(a,i)||Object.defineProperty(a,i,{enumerable:!0,get:p})},s.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},s.t=function(a,i){if(i&1&&(a=s(a)),i&8||i&4&&typeof a=="object"&&a&&a.__esModule)return a;var p=Object.create(null);if(s.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:a}),i&2&&typeof a!="string")for(var w in a)s.d(p,w,(function(M){return a[M]}).bind(null,w));return p},s.n=function(a){var i=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(i,"a",i),i},s.o=function(a,i){return Object.prototype.hasOwnProperty.call(a,i)},s.p="",s(s.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(l,f,s){s.r(f);var a=s("react"),i=function(){var g=function(u,e){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,d){t.__proto__=d}||function(t,d){for(var c in d)d.hasOwnProperty(c)&&(t[c]=d[c])},g(u,e)};return function(u,e){g(u,e);function t(){this.constructor=u}u.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),p=function(){return p=Object.assign||function(g){for(var u,e=1,t=arguments.length;e<t;e++){u=arguments[e];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(g[d]=u[d])}return g},p.apply(this,arguments)},w=function(g,u){var e={};for(var t in g)Object.prototype.hasOwnProperty.call(g,t)&&u.indexOf(t)<0&&(e[t]=g[t]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,t=Object.getOwnPropertySymbols(g);d<t.length;d++)u.indexOf(t[d])<0&&Object.prototype.propertyIsEnumerable.call(g,t[d])&&(e[t[d]]=g[t[d]]);return e};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(u){var e=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return e?new Promise(function(t,d){e.call(navigator,u,t,d)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function M(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var U=function(g){i(u,g);function u(e){var t=g.call(this,e)||this;return t.canvas=null,t.ctx=null,t.requestUserMediaId=0,t.unmounted=!1,t.state={hasUserMedia:!1},t}return u.prototype.componentDidMount=function(){var e=this,t=e.state,d=e.props;if(this.unmounted=!1,!M()){d.onUserMediaError("getUserMedia not supported");return}t.hasUserMedia||this.requestUserMedia(),d.children&&typeof d.children!="function"&&console.warn("children must be a function")},u.prototype.componentDidUpdate=function(e){var t=this.props;if(!M()){t.onUserMediaError("getUserMedia not supported");return}var d=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),c=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),m=e.minScreenshotWidth!==t.minScreenshotWidth,y=e.minScreenshotHeight!==t.minScreenshotHeight;(c||m||y)&&(this.canvas=null,this.ctx=null),(d||c)&&(this.stopAndCleanup(),this.requestUserMedia())},u.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},u.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map(function(t){e.removeTrack(t),t.stop()}),e.getAudioTracks().map(function(t){e.removeTrack(t),t.stop()})):e.stop())},u.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(u.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},u.prototype.getScreenshot=function(e){var t=this,d=t.state,c=t.props;if(!d.hasUserMedia)return null;var m=this.getCanvas(e);return m&&m.toDataURL(c.screenshotFormat,c.screenshotQuality)},u.prototype.getCanvas=function(e){var t=this,d=t.state,c=t.props;if(!this.video||!d.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var m=this.video.videoWidth,y=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var x=m/y;m=c.minScreenshotWidth||this.video.clientWidth,y=m/x,c.minScreenshotHeight&&y<c.minScreenshotHeight&&(y=c.minScreenshotHeight,m=y*x)}this.canvas=document.createElement("canvas"),this.canvas.width=(e==null?void 0:e.width)||m,this.canvas.height=(e==null?void 0:e.height)||y,this.ctx=this.canvas.getContext("2d")}var k=this,j=k.ctx,S=k.canvas;return j&&S&&(S.width=(e==null?void 0:e.width)||S.width,S.height=(e==null?void 0:e.height)||S.height,c.mirrored&&(j.translate(S.width,0),j.scale(-1,1)),j.imageSmoothingEnabled=c.imageSmoothing,j.drawImage(this.video,0,0,(e==null?void 0:e.width)||S.width,(e==null?void 0:e.height)||S.height),c.mirrored&&(j.scale(-1,1),j.translate(-S.width,0))),S},u.prototype.requestUserMedia=function(){var e=this,t=this.props,d=function(y,x){var k={video:typeof x<"u"?x:!0};t.audio&&(k.audio=typeof y<"u"?y:!0),e.requestUserMediaId++;var j=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(k).then(function(S){e.unmounted||j!==e.requestUserMediaId?u.stopMediaStream(S):e.handleUserMedia(null,S)}).catch(function(S){e.handleUserMedia(S)})};if("mediaDevices"in navigator)d(t.audioConstraints,t.videoConstraints);else{var c=function(y){return{optional:[{sourceId:y}]}},m=function(y){var x=y.deviceId;return typeof x=="string"?x:Array.isArray(x)&&x.length>0?x[0]:typeof x=="object"&&x.ideal?x.ideal:null};MediaStreamTrack.getSources(function(y){var x=null,k=null;y.forEach(function(O){O.kind==="audio"?x=O.id:O.kind==="video"&&(k=O.id)});var j=m(t.audioConstraints);j&&(x=j);var S=m(t.videoConstraints);S&&(k=S),d(c(x),c(k))})}},u.prototype.handleUserMedia=function(e,t){var d=this.props;if(e||!t){this.setState({hasUserMedia:!1}),d.onUserMediaError(e);return}this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}d.onUserMedia(t)},u.prototype.render=function(){var e=this,t=this,d=t.state,c=t.props,m=c.audio;c.forceScreenshotSourceSize;var y=c.disablePictureInPicture;c.onUserMedia,c.onUserMediaError,c.screenshotFormat,c.screenshotQuality,c.minScreenshotWidth,c.minScreenshotHeight,c.audioConstraints,c.videoConstraints,c.imageSmoothing;var x=c.mirrored,k=c.style,j=k===void 0?{}:k,S=c.children,O=w(c,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),L=x?p(p({},j),{transform:(j.transform||"")+" scaleX(-1)"}):j,Q={getScreenshot:this.getScreenshot.bind(this)};return a.createElement(a.Fragment,null,a.createElement("video",p({autoPlay:!0,disablePictureInPicture:y,src:d.src,muted:!m,playsInline:!0,ref:function(B){e.video=B},style:L},O)),S&&S(Q))},u.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},u}(a.Component);f.default=U},react:function(l,f){l.exports=h}}).default})})(he);var ct=he.exports;const dt=Ee(ct),lt=({initialTime:o,onSubmit:n,onExit:h})=>{const[l,f]=C.useState(o);return C.useEffect(()=>{const s=setInterval(()=>{f(a=>{const[i,p,w]=a.split(":").map(Number);let M=i*3600+p*60+w-1;if(M<=0)return clearInterval(s),n(),"00:00:00";const U=String(Math.floor(M/3600)).padStart(2,"0"),g=String(Math.floor(M%3600/60)).padStart(2,"0"),u=String(M%60).padStart(2,"0");return`${U}:${g}:${u}`})},1e3);return()=>clearInterval(s)},[n]),r.jsxs(F,{p:2,bgcolor:"rgba(102, 225, 228, 0.3)",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",children:[r.jsx(F,{sx:{width:160,height:120,borderRadius:"8px",overflow:"hidden",border:"2px solid #66E1E4",mb:2},children:r.jsx(dt,{audio:!1,screenshotFormat:"image/jpeg",width:160,height:120,videoConstraints:{facingMode:"user"}})}),r.jsx(E,{variant:"h6",align:"center",children:l}),r.jsx(E,{variant:"caption",align:"center",display:"block",children:"Time Remaining"}),r.jsxs(Oe,{spacing:2,mt:3,width:"100%",children:[r.jsx(T,{variant:"contained",onClick:n,sx:{backgroundColor:"#43a047","&:hover":{backgroundColor:"#2e7d32"}},children:"Submit"}),r.jsx(T,{variant:"contained",onClick:h,sx:{backgroundColor:"#e53935","&:hover":{backgroundColor:"#c62828"}},children:"Exit"})]})]})},ut=({onMarkReview:o,onClear:n,onSave:h,onSubmit:l})=>{const f=de(),s=le(f.breakpoints.down("sm"));return r.jsx(F,{px:3,py:2,bgcolor:"white",borderTop:1,borderColor:"divider",children:r.jsxs(R,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",children:[r.jsx(R,{item:!0,xs:6,sm:"auto",children:r.jsx(T,{fullWidth:s,variant:"contained",onClick:o,sx:{backgroundColor:"#fbc02d",color:"#000","&:hover":{backgroundColor:"#f9a825"}},children:"Mark for Review"})}),r.jsx(R,{item:!0,xs:6,sm:"auto",children:r.jsx(T,{fullWidth:s,variant:"contained",onClick:n,sx:{backgroundColor:"#e53935","&:hover":{backgroundColor:"#c62828"}},children:"Clear"})}),r.jsx(R,{item:!0,xs:6,sm:"auto",children:r.jsx(T,{fullWidth:s,variant:"contained",onClick:h,sx:{backgroundColor:"#1e88e5","&:hover":{backgroundColor:"#1565c0"}},children:"Save & Next"})}),r.jsx(R,{item:!0,xs:6,sm:"auto",children:r.jsx(T,{fullWidth:s,variant:"contained",onClick:l,sx:{backgroundColor:"#43a047","&:hover":{backgroundColor:"#2e7d32"}},children:"Submit"})})]})})},vt=()=>{const o=JSON.parse(sessionStorage.getItem("user")),n=de(),h=le(n.breakpoints.down("sm")),[l,f]=C.useState([]),[s,a]=C.useState(1),[i,p]=C.useState({}),[w,M]=C.useState({}),[U,g]=C.useState(0),u=Fe(),e=Ae(),{mcqData:t=[],selectedTopic:d={},selectedMode:c=""}=u.state||{},m=o==null?void 0:o.seekerId,y=d==null?void 0:d.topicId,x=c,k={"Content-type":"application/json",Authorization:"Bearer "+o.accessToken};C.useEffect(()=>{if(!t.length)alert("No MCQ data found. Redirecting..."),e("/jobs/tests");else{const b=t.map((v,P)=>({id:v.mcqId||P+1,question:v.question,options:[v.a,v.b,v.c,v.d],answer:v.answer}));f(b)}},[t,e]),C.useEffect(()=>{const b=()=>{document.hidden&&alert("Tab change or minimize detected! Please stay on the exam page.")};return document.addEventListener("visibilitychange",b),()=>{document.removeEventListener("visibilitychange",b)}},[]),C.useEffect(()=>{const b=Date.now(),v=new BroadcastChannel("exam_channel");let P=0;const A=setTimeout(()=>{P>0&&alert("Exam is already active in another tab. Closing this one.")},200);return v.postMessage({type:"new_tab_check",tabId:b}),v.onmessage=q=>{const{type:G,tabId:N}=q.data;G==="new_tab_check"&&N!==b&&v.postMessage({type:"existing_tab_response",tabId:b}),G==="existing_tab_response"&&N!==b&&(P+=1,g(I=>I+1))},()=>{clearTimeout(A),v.close()}},[]),C.useEffect(()=>{const b=v=>v.preventDefault();return document.addEventListener("contextmenu",b),()=>{document.removeEventListener("contextmenu",b)}},[]);const j=b=>{const v=b.target.value;p({...i,[s]:v}),M({...w,[s]:"answered"})},S=()=>{M({...w,[s]:"review"}),a(b=>Math.min(b+1,l.length))},O=()=>{p({...i,[s]:""}),M({...w,[s]:"not_answered"})},L=()=>{const b=i[s]?"answered":"not_answered";M({...w,[s]:b}),a(v=>Math.min(v+1,l.length))},Q=()=>{const b=l.length;let v=0,P=0,A=0;l.forEach((N,I)=>{const $=i[I+1],H=N.answer;$&&(v++,$===H?P++:A++)});const q=b-v,G=P>=b/2?"Pass":"Fail";return{total:b,attempted:v,correct:P,wrong:A,unattempted:q,result:G}},B=async()=>{const{total:b,attempted:v,correct:P,wrong:A,unattempted:q,result:G}=Q(),N={seeker:{seekerId:m},topic:{topicId:y},mode:x,totalQuestions:b,attemptedQuestions:v,correctAnswers:P,wrongAnswers:A,unattempted:q,tabSwitchCount:U,result:G};try{const I=await Ge(N,k);console.log("Exam history saved:",I);const $=I.id,H=t.map((V,xe)=>{const be=V.mcqId,ye=V.question,te=V.answer,D=i[xe+1]||"",J=D===te;return Ne({examHistoryId:$,questionId:be,questionText:ye,selectedAnswer:D,correctAnswer:te,isCorrect:J,scoreAwarded:J?1:0,penaltyApplied:D&&!J?-.25:0},k)});await Promise.all(H),oe.fire("Success","Exam submitted successfully!","success"),e("/jobs/resultReview",{state:{historyId:I.id}})}catch(I){console.error("Failed to submit exam:",I),oe.fire("Error","Failed to submit exam. Please try again.","error")}},pe=()=>{window.confirm("Are you sure you want to exit the test?")&&e("/jobs/tests")},me=l[s-1]||{question:"",options:[]},ge=i[s]||"",ve=l.map((b,v)=>({id:v+1,status:w[v+1]||"not_answered"}));return r.jsxs(F,{display:"flex",flexDirection:"column",height:"100%",sx:{borderRadius:2,overflow:"hidden",boxShadow:3,bgcolor:"background.paper"},children:[r.jsx(at,{currentPage:s,totalPages:l.length}),r.jsxs(R,{container:!0,flex:1,children:[r.jsx(R,{item:!0,xs:12,sm:3,md:2,sx:{display:h?"none":"block",borderRight:1,borderColor:"divider"},children:r.jsx(st,{totalQuestions:l.length,currentQuestion:s,onNavigate:a,questionStatus:ve})}),r.jsx(R,{item:!0,xs:12,sm:6,md:8,p:2,children:r.jsx(it,{questionData:me,selectedOption:ge,onSelect:j})}),r.jsx(R,{item:!0,xs:12,sm:3,md:2,sx:{borderLeft:1,borderColor:"divider"},children:r.jsx(lt,{initialTime:"00:20:00",onSubmit:B,onExit:pe})})]}),r.jsx(F,{children:r.jsx(ut,{onMarkReview:S,onClear:O,onSave:L,onSubmit:B})})]})};export{vt as default};
